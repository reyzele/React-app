{"version":3,"sources":["selectors/index.js","constants/index.js","dictionaries.js","components/i18n/context.js","components/i18n/index.js","components/common/loader.js","components/article-list.js","ac/index.js","components/comment.js","decorators/toggleOpen.js","components/comment-form/index.js","contexts/user.js","components/comment-list/index.js","components/article/index.js","components/routes/articles-page.js","components/user-form.js","components/filters/date-range.js","components/filters/select.js","components/filters/index.js","components/counter.js","components/comments-pagination.js","components/routes/comments-page.js","components/menu/menu-item.js","components/menu/index.js","components/i18n/lang-provider.js","components/app.js","reducer/utils.js","reducer/articles.js","reducer/comments.js","reducer/filters.js","history.js","reducer/index.js","reducer/counter.js","store/index.js","middlewares/randomId.js","middlewares/api.js","middlewares/logger.js","index.js"],"names":["selectionSelector","state","filters","selected","dateRangeSelector","dateRange","articlesMapSelector","articles","entities","articleListSelector","createSelector","articlesMap","valueSeq","toArray","commentsSelector","comments","idSelector","_","props","id","filtratedArticlesSelector","console","log","from","to","filter","article","published","Date","parse","date","length","find","value","articleSelector","get","commentsPagenationSelector","pagination","pageSelector","page","commentsPageIdsSelector","getIn","commentsPageLoadingSelector","INCREMENT","DELETE_ARTICLE","LOAD_ALL_ARTICLES","LOAD_ARTICLE","CHANGE_SELECTION","CHANGE_DATE_RANGE","ADD_COMMENT","LOAD_ARTICLE_COMMENTS","LOAD_COMMENTS_FOR_PAGE","START","SUCCESS","FAIL","dictionaries","ru","delete me","show comments","hide comments","Loading","No comments yet","en","createContext","Provider","Consumer","i18n","Component","_ReactComponent","Translate","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","createTranslate","dictionary","text","inherits","createClass","key","_this2","react_default","a","createElement","assign","t","ReactComponent","_ref","ArticleList","_Component","loading","loader","className","ListGroup","items","_this$props","fetchData","loaded","map","ListGroupItem","NavLink","activeStyle","color","title","withRouter","connect","articlesLoadingSelector","articlesLoadedSelector","type","callAPI","OriginalComponent","commentSelector","ownProps","comment","user","CommentForm","handleSubmit","ev","preventDefault","addComment","setState","isValidForm","every","isValidField","limits","min","getClassName","handleChange","target","max","defineProperty","onSubmit","ButtonGroup","onChange","Button","disabled","dispatch","articleId","payload","generateId","CommentList","oldProps","isOpen","loadArticleComments","commentsLoading","commentsLoaded","_this$props2","toggleOpen","onClick","react_addons_css_transition_group_default","transitionName","transitionEnterTimeout","transitionLeaveTimeout","getBody","_this$props3","_this$props3$article","user_Consumer","username","comment_form","components_comment","_React$Component","ToggleOpen","React","Article","error","handleDeleteClick","deleteArticle","loadArticleById","Card","CardTitle","transitionAppear","transitionAppearTimeout","body","_this$props4","CardText","comment_list","PureComponent","fetch","then","res","status","Error","statusText","json","response","catch","replace","ArticlesPage","getArticle","match","params","components_article","react","article_list","Route","path","children","UserForm","handleUserChange","DateRange","handleDayClick","day","changeDateRange","range","DateUtils","addDayToRange","_this$props$range","selectedRange","toDateString","DayPicker_default","selectedDays","isDayInRange","onDayClick","SelectFilter","changeSelection","react_select_esm","options","isMulti","label","Filters","filters_select","date_range","Counter","handleClick","handleIncrement","count","mapDispatchToProps","storeState","counter","CommentsPagination","checkAndLoadCommentsForPage","total","getCommentItems","getPaginator","commentItems","Math","floor","fill","i","totalCommentsSelector","getState","getCommentsPaginator","_ref2","comments_pagination","CommentsPage","isExact","Redirect","render","MenuItem","link","Nav","vertical","NavItem","Menu","LangProvider","language","App","setUser","changeLanguage","user_Provider","lang_provider","Jumbotron","size","menu","menu_item","user_form","Switch","exact","component","arrToMap","arr","DataRecord","reduce","acc","item","set","OrderedMap","ArticleRecord","Record","ReducerRecord","CommentRecord","Map","defaultFilters","history","createHistory","window","routerHistory","combineReducers","counterState","undefined","action","randomId","deleteIn","updateIn","update","merge","setIn","objectSpread","mergeIn","records","router","connectRouter","enhancer","applyMiddleware","thunk","routerMiddleware","store","next","now","random","toString","rest","objectWithoutProperties","createStore","reducer","ReactDOM","es","lib","app","document","getElementById"],"mappings":"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","file":"static/js/main.86174ca9.chunk.js","sourcesContent":["import { createSelector } from 'reselect'\r\n\r\nexport const selectionSelector = (state) => state.filters.selected\r\nexport const dateRangeSelector = (state) => state.filters.dateRange\r\nexport const articlesLoadingSelector = (state) => state.articles.loading\r\nexport const articlesLoadedSelector = (state) => state.articles.loaded\r\nexport const articlesMapSelector = (state) => state.articles.entities\r\nexport const articleListSelector = createSelector(\r\n  articlesMapSelector,\r\n  (articlesMap) => articlesMap.valueSeq().toArray()\r\n)\r\nexport const commentsSelector = (state) => state.comments\r\nexport const idSelector = (_, props) => props.id\r\n\r\nexport const filtratedArticlesSelector = createSelector(\r\n  selectionSelector,\r\n  dateRangeSelector,\r\n  articleListSelector,\r\n  (selected, dateRange, articles) => {\r\n    console.log('---', 'article list selector')\r\n    const { from, to } = dateRange\r\n\r\n    return articles.filter((article) => {\r\n      const published = Date.parse(article.date)\r\n      return (\r\n        (!selected.length ||\r\n          selected.find((selected) => selected.value === article.id)) &&\r\n        (!from || !to || (published > from && published < to))\r\n      )\r\n    })\r\n  }\r\n)\r\n\r\nexport const createCommentSelector = () =>\r\n  createSelector(\r\n    commentsSelector,\r\n    idSelector,\r\n    (comments, id) => {\r\n      return comments.getIn(['entities', id])\r\n    }\r\n  )\r\n\r\nexport const articleSelector = createSelector(\r\n  articlesMapSelector,\r\n  idSelector,\r\n  (articles, id) => articles.get(id)\r\n)\r\n\r\nexport const totalCommentsSelector = (state) => state.comments.total\r\nexport const commentsPagenationSelector = (state) => state.comments.pagination\r\nexport const pageSelector = (_, props) => props.page\r\nexport const commentsPageIdsSelector = createSelector(\r\n  commentsPagenationSelector,\r\n  pageSelector,\r\n  (pagination, page) => pagination.getIn([page, 'ids'])\r\n)\r\nexport const commentsPageLoadingSelector = createSelector(\r\n  commentsPagenationSelector,\r\n  pageSelector,\r\n  (pagination, page) => pagination.getIn([page, 'loading'])\r\n)\r\n","export const INCREMENT = 'INCREMENT'\r\n\r\nexport const DELETE_ARTICLE = 'DELETE_ARTICLE'\r\nexport const LOAD_ALL_ARTICLES = 'LOAD_ALL_ARTICLES'\r\nexport const LOAD_ARTICLE = 'LOAD_ARTICLE'\r\n\r\nexport const CHANGE_SELECTION = 'CHANGE_SELECTION'\r\nexport const CHANGE_DATE_RANGE = 'CHANGE_DATE_RANGE'\r\n\r\nexport const ADD_COMMENT = 'ADD_COMMENT'\r\nexport const LOAD_ARTICLE_COMMENTS = 'LOAD_ARTICLE_COMMENTS'\r\nexport const LOAD_COMMENTS_FOR_PAGE = 'LOAD_COMMENTS_FOR_PAGE'\r\n\r\nexport const START = '_START'\r\nexport const SUCCESS = '_SUCCESS'\r\nexport const FAIL = '_FAIL'\r\n","export const en = {\r\n  'delete me': 'delete me',\r\n  'show comments': 'show comments',\r\n  'hide comments': 'hide comments',\r\n  'No comments yet': 'No comments yet',\r\n  Loading: 'Loading'\r\n}\r\n\r\nexport const ru = {\r\n  'delete me': 'удалить статью',\r\n  'show comments': 'показать комментарии',\r\n  'hide comments': 'спрятать комментарии',\r\n  Loading: 'Загрузка',\r\n  'No comments yet': 'Пока нет комментариев'\r\n}\r\n\r\nexport default { ru, en }\r\n","import { createContext } from 'react'\r\nimport dictionaries from '../../dictionaries'\r\n\r\nexport const { Provider, Consumer } = createContext(dictionaries.en)\r\n","import React, { Component as ReactComponent } from 'react'\r\nimport { Consumer } from './context'\r\n\r\nexport default (Component) =>\r\n  class Translate extends ReactComponent {\r\n    render() {\r\n      return (\r\n        <Consumer>\r\n          {(dictionary) => (\r\n            <Component {...this.props} t={this.createTranslate(dictionary)} />\r\n          )}\r\n        </Consumer>\r\n      )\r\n    }\r\n\r\n    createTranslate = (dictionary) => (text) => dictionary[text] || text\r\n  }\r\n","import React from 'react'\r\nimport i18n from '../i18n'\r\n\r\nfunction Loader({ t }) {\r\n  return (\r\n    <h3>\r\n      {t('Loading')}\r\n      ...\r\n    </h3>\r\n  )\r\n}\r\n\r\nLoader.propTypes = {}\r\n\r\nexport default i18n(Loader)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  articlesLoadedSelector,\r\n  articlesLoadingSelector,\r\n  filtratedArticlesSelector\r\n} from '../selectors'\r\nimport { loadAllArticles } from '../ac'\r\nimport Loader from './common/loader'\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport { ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nexport class ArticleList extends Component {\r\n  static propTypes = {\r\n    articles: PropTypes.array.isRequired,\r\n    fetchData: PropTypes.func\r\n  }\r\n\r\n  render() {\r\n    if (this.props.loading) return <Loader />\r\n    return (\r\n      <div className=\"articles\">\r\n        <h4 className=\"articles__title\">Articles:</h4>\r\n        <ListGroup>{this.items}</ListGroup>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  get items() {\r\n    const { articles } = this.props\r\n    return articles.map((article) => (\r\n      <ListGroupItem key={article.id} className=\"test--article-list__item\">\r\n        <NavLink to={`/articles/${article.id}`} activeStyle={{ color: 'red' }}>\r\n          {article.title}\r\n        </NavLink>\r\n      </ListGroupItem>\r\n    ))\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { fetchData, loaded, loading } = this.props\r\n    fetchData && !loading && !loaded && fetchData()\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(\r\n    (state) => {\r\n      return {\r\n        articles: filtratedArticlesSelector(state),\r\n        loading: articlesLoadingSelector(state),\r\n        loaded: articlesLoadedSelector(state)\r\n      }\r\n    },\r\n    { fetchData: loadAllArticles }\r\n    /*\r\n    null,\r\n  { pure: false }\r\n*/\r\n  )(ArticleList)\r\n)\r\n","import {\r\n  INCREMENT,\r\n  DELETE_ARTICLE,\r\n  CHANGE_DATE_RANGE,\r\n  CHANGE_SELECTION,\r\n  ADD_COMMENT,\r\n  LOAD_ALL_ARTICLES,\r\n  LOAD_ARTICLE,\r\n  LOAD_ARTICLE_COMMENTS,\r\n  LOAD_COMMENTS_FOR_PAGE,\r\n  SUCCESS,\r\n  FAIL,\r\n  START\r\n} from '../constants'\r\nimport { push, replace } from 'connected-react-router'\r\n\r\nexport function increment() {\r\n  return {\r\n    type: INCREMENT\r\n  }\r\n}\r\n\r\nexport function deleteArticle(id) {\r\n  return {\r\n    type: DELETE_ARTICLE,\r\n    payload: { id }\r\n  }\r\n}\r\n\r\nexport function changeDateRange(dateRange) {\r\n  return {\r\n    type: CHANGE_DATE_RANGE,\r\n    payload: { dateRange }\r\n  }\r\n}\r\n\r\nexport function changeSelection(selected) {\r\n  return {\r\n    type: CHANGE_SELECTION,\r\n    payload: { selected }\r\n  }\r\n}\r\n\r\nexport function addComment(comment, articleId) {\r\n  return {\r\n    type: ADD_COMMENT,\r\n    payload: { comment, articleId },\r\n    generateId: true\r\n  }\r\n}\r\n\r\nexport function loadAllArticles() {\r\n  return {\r\n    type: LOAD_ALL_ARTICLES,\r\n    callAPI: '/api/article'\r\n  }\r\n}\r\n\r\nexport function loadArticleById(id) {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: LOAD_ARTICLE + START,\r\n      payload: { id }\r\n    })\r\n\r\n    fetch(`/api/article/${id}`)\r\n      .then((res) => {\r\n        if (res.status >= 400) throw new Error(res.statusText)\r\n        return res.json()\r\n      })\r\n      .then((response) =>\r\n        dispatch({\r\n          type: LOAD_ARTICLE + SUCCESS,\r\n          payload: { id },\r\n          response\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        dispatch({\r\n          type: LOAD_ARTICLE + FAIL,\r\n          payload: { id },\r\n          error\r\n        })\r\n\r\n        dispatch(replace('/error'))\r\n      })\r\n  }\r\n}\r\n\r\nexport function loadArticleComments(articleId) {\r\n  return {\r\n    type: LOAD_ARTICLE_COMMENTS,\r\n    payload: { articleId },\r\n    callAPI: `/api/comment?article=${articleId}`\r\n  }\r\n}\r\n\r\nexport function checkAndLoadCommentsForPage(page) {\r\n  return (dispatch, getState) => {\r\n    const {\r\n      comments: { pagination }\r\n    } = getState()\r\n    if (pagination.getIn([page, 'loading']) || pagination.getIn([page, 'ids']))\r\n      return\r\n\r\n    dispatch({\r\n      type: LOAD_COMMENTS_FOR_PAGE,\r\n      payload: { page },\r\n      callAPI: `/api/comment?limit=5&offset=${(page - 1) * 5}`\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { createCommentSelector } from '../selectors'\r\n\r\nfunction Comment({ comment }) {\r\n  return (\r\n    <div>\r\n      {comment.text} <b>by {comment.user}</b>\r\n    </div>\r\n  )\r\n}\r\n\r\nComment.propTypes = {\r\n  comment: PropTypes.shape({\r\n    text: PropTypes.string.isRequired,\r\n    user: PropTypes.string\r\n  }).isRequired\r\n}\r\n\r\nconst createMapStateToProps = () => {\r\n  const commentSelector = createCommentSelector()\r\n\r\n  return (state, ownProps) => ({\r\n    comment: commentSelector(state, ownProps)\r\n  })\r\n}\r\n\r\nexport default connect(createMapStateToProps)(Comment)\r\n","import React from 'react'\r\n\r\nexport default (OriginalComponent) =>\r\n  class ToggleOpen extends React.Component {\r\n    state = {\r\n      isOpen: false\r\n    }\r\n\r\n    toggleOpen = () =>\r\n      this.setState((state) => ({\r\n        isOpen: !state.isOpen\r\n      }))\r\n\r\n    render() {\r\n      return (\r\n        <OriginalComponent\r\n          {...this.props}\r\n          {...this.state}\r\n          toggleOpen={this.toggleOpen}\r\n        />\r\n      )\r\n    }\r\n  }\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addComment } from '../../ac'\r\nimport './style.css'\r\nimport { Button, ButtonGroup } from 'reactstrap'\r\n\r\nclass CommentForm extends Component {\r\n  static propTypes = {}\r\n\r\n  state = {\r\n    user: '',\r\n    text: ''\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className=\"form-inline\">\r\n        <ButtonGroup className=\"form-row\">\r\n          <label className=\"mb-2 mr-sm-2 mb-sm-0 form-group\">\r\n            <p className=\"mr-sm-2\">user: </p>\r\n            <input\r\n              value={this.state.user}\r\n              onChange={this.handleChange('user')}\r\n              className={this.getClassName('user') && 'form-control'}\r\n            />\r\n          </label>\r\n          <label className=\"mb-2 mr-sm-2 mb-sm-0 form-group\">\r\n            <p className=\"mr-sm-2\">comment: </p>\r\n            <textarea\r\n              value={this.state.text}\r\n              onChange={this.handleChange('text')}\r\n              className={this.getClassName('text') && 'form-control'}\r\n            />\r\n          </label>\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={!this.isValidForm()}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </ButtonGroup>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  handleSubmit = (ev) => {\r\n    ev.preventDefault()\r\n    this.props.addComment(this.state)\r\n    this.setState({\r\n      user: '',\r\n      text: ''\r\n    })\r\n  }\r\n\r\n  isValidForm = () => ['user', 'text'].every(this.isValidField)\r\n\r\n  isValidField = (type) => this.state[type].length >= limits[type].min\r\n\r\n  getClassName = (type) => (this.isValidField(type) ? '' : 'form-input__error')\r\n\r\n  handleChange = (type) => (ev) => {\r\n    const { value } = ev.target\r\n    if (value.length > limits[type].max) return\r\n    this.setState({\r\n      [type]: value\r\n    })\r\n  }\r\n}\r\n\r\nconst limits = {\r\n  user: {\r\n    min: 10,\r\n    max: 50\r\n  },\r\n  text: {\r\n    min: 10,\r\n    max: 50\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  (dispatch, ownProps) => ({\r\n    addComment: (comment) => dispatch(addComment(comment, ownProps.articleId))\r\n  })\r\n)(CommentForm)\r\n","import { createContext } from 'react'\r\n\r\nconst { Provider, Consumer } = createContext('Some Default Name')\r\n\r\nexport { Provider, Consumer }\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport CSSTransition from 'react-addons-css-transition-group'\r\nimport { connect } from 'react-redux'\r\nimport Comment from '../comment'\r\nimport CommentForm from '../comment-form'\r\nimport toggleOpen from '../../decorators/toggleOpen'\r\nimport { loadArticleComments } from '../../ac'\r\nimport './style.css'\r\nimport Loader from '../common/loader'\r\nimport { Consumer as UserConsumer } from '../../contexts/user'\r\nimport i18n from '../i18n'\r\nimport { Button } from 'reactstrap'\r\n\r\nclass CommentList extends Component {\r\n  static propTypes = {\r\n    article: PropTypes.object,\r\n    //from toggleOpen decorator\r\n    isOpen: PropTypes.bool,\r\n    toggleOpen: PropTypes.func\r\n  }\r\n\r\n  /*\r\n    static defaultProps = {\r\n      comments: []\r\n    }\r\n  */\r\n  componentDidUpdate(oldProps) {\r\n    const { isOpen, article, loadArticleComments } = this.props\r\n    if (\r\n      isOpen &&\r\n      !oldProps.isOpen &&\r\n      !article.commentsLoading &&\r\n      !article.commentsLoaded\r\n    ) {\r\n      loadArticleComments(article.id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, toggleOpen, t } = this.props\r\n    const text = t(isOpen ? 'hide comments' : 'show comments')\r\n    return (\r\n      <div>\r\n        <Button onClick={toggleOpen} className=\"test__comment-list--btn\">\r\n          {text}\r\n        </Button>\r\n        <CSSTransition\r\n          transitionName=\"comments\"\r\n          transitionEnterTimeout={500}\r\n          transitionLeaveTimeout={500}\r\n        >\r\n          {this.getBody()}\r\n        </CSSTransition>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  getBody() {\r\n    const {\r\n      article: { comments, id, commentsLoading, commentsLoaded },\r\n      isOpen\r\n    } = this.props\r\n    if (!isOpen) return null\r\n    if (commentsLoading) return <Loader />\r\n    if (!commentsLoaded) return null\r\n\r\n    return (\r\n      <div className=\"test__comment-list--body\">\r\n        <UserConsumer>\r\n          {(username) => <h3>Username: {username}</h3>}\r\n        </UserConsumer>\r\n        {comments.length ? (\r\n          this.comments\r\n        ) : (\r\n          <h3 className=\"test__comment-list--empty\">{'No comments yet'}</h3>\r\n        )}\r\n        <CommentForm articleId={id} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  get comments() {\r\n    return (\r\n      <ul>\r\n        {this.props.article.comments.map((id) => (\r\n          <li key={id} className=\"test__comment-list--item\">\r\n            <Comment id={id} />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { loadArticleComments }\r\n)(toggleOpen(i18n(CommentList)))\r\n","import React, { PureComponent } from 'react'\r\nimport CSSTransition from 'react-addons-css-transition-group'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport CommentList from '../comment-list'\r\nimport { deleteArticle, loadArticleById } from '../../ac'\r\nimport './style.css'\r\nimport Loader from '../common/loader'\r\nimport { articleSelector } from '../../selectors'\r\nimport i18n from '../i18n'\r\nimport { Card, Button, CardTitle, CardText } from 'reactstrap'\r\n\r\nclass Article extends PureComponent {\r\n  static propTypes = {\r\n    id: PropTypes.string,\r\n\r\n    article: PropTypes.shape({\r\n      title: PropTypes.string,\r\n      text: PropTypes.string\r\n    }),\r\n    isOpen: PropTypes.bool,\r\n    toggleOpen: PropTypes.func\r\n  }\r\n\r\n  state = {\r\n    error: null\r\n  }\r\n\r\n  componentDidCatch(error) {\r\n    this.setState({ error })\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { loadArticleById, article, id } = this.props\r\n    if (!article || (!article.text && !article.loading)) loadArticleById(id)\r\n  }\r\n\r\n  render() {\r\n    const { article, t } = this.props\r\n    if (!article) return null\r\n\r\n    return (\r\n      <div>\r\n        <Card className=\"card\">\r\n          <div className=\"card-header article__header\">\r\n            <CardTitle className=\"article__title\">{article.title}</CardTitle>\r\n            <Button onClick={this.handleDeleteClick}>{t('delete me')}</Button>\r\n          </div>\r\n          <CSSTransition\r\n            transitionAppear\r\n            transitionName=\"article\"\r\n            transitionEnterTimeout={500}\r\n            transitionAppearTimeout={1000}\r\n            transitionLeaveTimeout={300}\r\n          >\r\n            {this.body}\r\n          </CSSTransition>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleDeleteClick = () => {\r\n    const { deleteArticle, article } = this.props\r\n    deleteArticle(article.id)\r\n  }\r\n\r\n  get body() {\r\n    const { isOpen, article } = this.props\r\n    if (!isOpen) return null\r\n    if (this.state.error) return <h3>Error</h3>\r\n    if (article.loading) return <Loader />\r\n\r\n    return (\r\n      <section className=\"card-body test--article__body\">\r\n        <CardText>{article.text}</CardText>\r\n        <CommentList article={article} />\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state, props) => ({\r\n    article: articleSelector(state, props)\r\n  }),\r\n  { deleteArticle, loadArticleById }\r\n)(i18n(Article))\r\n","import React, { Component, Fragment } from 'react'\r\nimport ArticleList from '../article-list'\r\nimport { Route } from 'react-router-dom'\r\nimport Article from '../article'\r\n\r\nclass ArticlesPage extends Component {\r\n  static propTypes = {}\r\n\r\n  render() {\r\n    console.log('---', 'articles-page match: ', this.props.match)\r\n    //      const title = this.props.match.isExact && <h1>Select an Article</h1>\r\n    console.log('---', 1)\r\n    return (\r\n      <Fragment>\r\n        <ArticleList />\r\n        <Route path=\"/articles/:id\" children={this.getArticle} />\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n  getArticle = ({ match }) => {\r\n    console.log('---', 'article match: ', match)\r\n\r\n    if (!match) return <h1 className=\"\">Please Select An Article</h1>\r\n\r\n    const { id } = match.params\r\n    return <Article id={id} key={id} isOpen />\r\n  }\r\n}\r\n\r\nexport default ArticlesPage\r\n","import React, { Component } from 'react'\r\n\r\nclass UserForm extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        Username:{' '}\r\n        <input value={this.props.value} onChange={this.handleUserChange} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleUserChange = (ev) => {\r\n    this.props.onChange(ev.target.value)\r\n  }\r\n}\r\n\r\nexport default UserForm\r\n","import React, { Component } from 'react'\r\nimport DayPicker, { DateUtils } from 'react-day-picker'\r\nimport { connect } from 'react-redux'\r\nimport { changeDateRange } from '../../ac'\r\n\r\nimport 'react-day-picker/lib/style.css'\r\nimport { dateRangeSelector } from '../../selectors'\r\n\r\nclass DateRange extends Component {\r\n  handleDayClick = (day) => {\r\n    const { changeDateRange, range } = this.props\r\n    changeDateRange(DateUtils.addDayToRange(day, range))\r\n  }\r\n\r\n  render() {\r\n    const { from, to } = this.props.range\r\n    const selectedRange =\r\n      from && to && `${from.toDateString()} - ${to.toDateString()}`\r\n    return (\r\n      <div className=\"date-range\">\r\n        <DayPicker\r\n          selectedDays={(day) => DateUtils.isDayInRange(day, { from, to })}\r\n          onDayClick={this.handleDayClick}\r\n        />\r\n        {selectedRange}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    range: dateRangeSelector(state)\r\n  }),\r\n  { changeDateRange }\r\n)(DateRange)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Select from 'react-select'\r\nimport { connect } from 'react-redux'\r\nimport { changeSelection } from '../../ac'\r\nimport { articleListSelector, selectionSelector } from '../../selectors'\r\n\r\nclass SelectFilter extends Component {\r\n  static propTypes = {\r\n    articles: PropTypes.array.isRequired\r\n  }\r\n\r\n  handleChange = (selected) => {\r\n    this.props.changeSelection(selected)\r\n  }\r\n\r\n  get options() {\r\n    return this.props.articles.map((article) => ({\r\n      label: article.title,\r\n      value: article.id\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Select\r\n        options={this.options}\r\n        value={this.props.selected}\r\n        onChange={this.handleChange}\r\n        isMulti\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    selected: selectionSelector(state),\r\n    articles: articleListSelector(state)\r\n  }),\r\n  { changeSelection }\r\n)(SelectFilter)\r\n","import React, { Component } from 'react'\r\nimport DateRange from './date-range'\r\nimport SelectFilter from './select'\r\n\r\nclass Filters extends Component {\r\n  static propTypes = {}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <SelectFilter articles={this.props.articles} />\r\n        <DateRange />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Filters\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { increment } from '../ac'\r\n\r\nclass Counter extends Component {\r\n  static propTypes = {\r\n    count: PropTypes.number,\r\n    handleIncrement: PropTypes.func\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>{this.props.count}</h2>\r\n        <button onClick={this.handleClick}>increment</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleClick = () => {\r\n    //        this.props.dispatch(increment())\r\n    this.props.handleIncrement()\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (storeState) => ({\r\n  count: storeState.counter\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  handleIncrement: increment\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Counter)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Comment from './comment'\r\nimport Loader from './common/loader'\r\nimport { checkAndLoadCommentsForPage } from '../ac'\r\nimport {\r\n  commentsPageLoadingSelector,\r\n  commentsPageIdsSelector,\r\n  totalCommentsSelector\r\n} from '../selectors/index'\r\n\r\nclass CommentsPagination extends Component {\r\n  componentDidMount() {\r\n    this.props.checkAndLoadCommentsForPage(this.props.page)\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { page, checkAndLoadCommentsForPage } = this.props\r\n    checkAndLoadCommentsForPage(page)\r\n  }\r\n\r\n  render() {\r\n    const { total } = this.props\r\n    if (!total) return <Loader />\r\n    return (\r\n      <div>\r\n        {this.getCommentItems()}\r\n        {this.getPaginator()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  getCommentItems() {\r\n    const { comments, loading } = this.props\r\n    if (loading || !comments) return <Loader />\r\n    const commentItems = comments.map((id) => (\r\n      <li key={id}>\r\n        <Comment id={id} />\r\n      </li>\r\n    ))\r\n    return <ul>{commentItems}</ul>\r\n  }\r\n\r\n  getPaginator() {\r\n    const { total } = this.props\r\n    const items = new Array(Math.floor((total - 1) / 5) + 1)\r\n      .fill()\r\n      .map((_, i) => (\r\n        <li key={i}>\r\n          <NavLink to={`/comments/${i + 1}`} activeStyle={{ color: 'red' }}>\r\n            {i + 1}\r\n          </NavLink>\r\n        </li>\r\n      ))\r\n    return <ul>{items}</ul>\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state, props) => {\r\n    return {\r\n      total: totalCommentsSelector(state),\r\n      loading: commentsPageLoadingSelector(state, props),\r\n      comments: commentsPageIdsSelector(state, props)\r\n    }\r\n  },\r\n  { checkAndLoadCommentsForPage }\r\n)(CommentsPagination)\r\n","import React from 'react'\r\nimport CommentsPagination from '../comments-pagination'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction CommentsPage({ match }) {\r\n  return match.isExact ? (\r\n    <Redirect to=\"/comments/1\" />\r\n  ) : (\r\n    <Route path=\"/comments/:page\" render={getCommentsPaginator} />\r\n  )\r\n}\r\n\r\nfunction getCommentsPaginator({ match }) {\r\n  return <CommentsPagination page={match.params.page} />\r\n}\r\n\r\nCommentsPage.propTypes = {}\r\n\r\nexport default CommentsPage\r\n","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Nav, NavItem } from 'reactstrap'\r\n\r\nclass MenuItem extends Component {\r\n  static propTypes = {}\r\n\r\n  render() {\r\n    const { link, children } = this.props\r\n    return (\r\n      <Nav vertical>\r\n        <NavItem>\r\n          <NavLink to={link} activeStyle={{ color: 'red' }}>\r\n            {children}\r\n          </NavLink>\r\n        </NavItem>\r\n      </Nav>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MenuItem\r\n","import React, { Component } from 'react'\r\nimport MenuItem from './menu-item'\r\n\r\nclass Menu extends Component {\r\n  static propTypes = {}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2 className=\"title\">Main Menu</h2>\r\n        <nav>{this.props.children}</nav>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport { MenuItem }\r\nexport default Menu\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport dictionaries from '../../dictionaries'\r\nimport { Provider } from './context'\r\n\r\nclass LangProvider extends Component {\r\n  static propTypes = {\r\n    language: PropTypes.string\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Provider value={dictionaries[this.props.language]}>\r\n        {this.props.children}\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LangProvider\r\n","import React, { Component } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport ArticlesPage from './routes/articles-page'\r\nimport UserForm from './user-form'\r\nimport Filters from './filters'\r\nimport Counter from './counter'\r\nimport CommentsPage from './routes/comments-page'\r\nimport Menu, { MenuItem } from './menu'\r\nimport { Provider as UserProvider } from '../contexts/user'\r\nimport LangProvider from './i18n/lang-provider'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Jumbotron, Button, ButtonGroup } from 'reactstrap'\r\nimport './scss/main.scss'\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: 'Vadim',\r\n    language: 'en'\r\n  }\r\n\r\n  setUser = (user) => this.setState({ user })\r\n  changeLanguage = (language) => (ev) => this.setState({ language })\r\n\r\n  render() {\r\n    return (\r\n      <UserProvider value={this.state.user}>\r\n        <LangProvider language={this.state.language}>\r\n          <Jumbotron>\r\n            <div className=\"container-fluid page-container\">\r\n              <ul>\r\n                <ButtonGroup size=\"lg\">\r\n                  <Button onClick={this.changeLanguage('en')}>English</Button>\r\n                  <Button onClick={this.changeLanguage('ru')}>Russian</Button>\r\n                </ButtonGroup>\r\n              </ul>\r\n              <Menu>\r\n                <MenuItem link=\"/articles\" children=\"Articles\" />\r\n                <MenuItem link=\"/filters\">Filters</MenuItem>\r\n                <MenuItem link=\"/counter\">Counter</MenuItem>\r\n                <MenuItem link=\"/comments\">Comments</MenuItem>\r\n              </Menu>\r\n              <UserForm value={this.state.user} onChange={this.setUser} />\r\n\r\n              <Switch>\r\n                <Redirect from=\"/\" exact to=\"/articles\" />\r\n                <Route path=\"/counter\" component={Counter} exact />\r\n                <Route path=\"/comments\" component={CommentsPage} />\r\n                <Route path=\"/filters\" component={Filters} />\r\n                <Route\r\n                  path=\"/articles/new\"\r\n                  render={() => <h1>New Article Page</h1>}\r\n                />\r\n                <Route path=\"/articles\" component={ArticlesPage} />\r\n                <Route path=\"/error\" render={() => <h1>Error Page</h1>} />\r\n                <Route path=\"*\" render={() => <h1>Not Found Page</h1>} />\r\n              </Switch>\r\n            </div>\r\n          </Jumbotron>\r\n        </LangProvider>\r\n      </UserProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import { OrderedMap } from 'immutable'\r\n\r\nexport function arrToMap(arr, DataRecord) {\r\n  return arr.reduce(\r\n    (acc, item) => acc.set(item.id, DataRecord ? new DataRecord(item) : item),\r\n    new OrderedMap()\r\n  )\r\n}\r\n","import { Record } from 'immutable'\r\nimport {\r\n  DELETE_ARTICLE,\r\n  ADD_COMMENT,\r\n  LOAD_ALL_ARTICLES,\r\n  LOAD_ARTICLE_COMMENTS,\r\n  SUCCESS,\r\n  START,\r\n  LOAD_ARTICLE\r\n} from '../constants'\r\nimport { arrToMap } from './utils'\r\n\r\nconst ArticleRecord = Record({\r\n  id: null,\r\n  text: null,\r\n  title: null,\r\n  date: null,\r\n  loading: false,\r\n  commentsLoading: false,\r\n  commentsLoaded: false,\r\n  comments: []\r\n})\r\n\r\nconst ReducerRecord = new Record({\r\n  entities: arrToMap([], ArticleRecord),\r\n  loading: false,\r\n  loaded: false,\r\n  error: null\r\n})\r\n\r\nexport default (state = new ReducerRecord(), action) => {\r\n  const { type, payload, randomId, response } = action\r\n\r\n  switch (type) {\r\n    case DELETE_ARTICLE:\r\n      return state.deleteIn(['entities', payload.id])\r\n\r\n    case ADD_COMMENT:\r\n      return state.updateIn(\r\n        ['entities', payload.articleId, 'comments'],\r\n        (comments) => comments.concat(randomId)\r\n      )\r\n\r\n    case LOAD_ALL_ARTICLES + START:\r\n      return state.set('loading', true)\r\n\r\n    case LOAD_ALL_ARTICLES + SUCCESS:\r\n      return state\r\n        .update('entities', (entities) =>\r\n          arrToMap(response, ArticleRecord).merge(entities)\r\n        )\r\n        .set('loading', false)\r\n        .set('loaded', true)\r\n\r\n    case LOAD_ARTICLE + START:\r\n      return state.setIn(['entities', payload.id, 'loading'], true)\r\n\r\n    case LOAD_ARTICLE + SUCCESS:\r\n      return state.setIn(['entities', payload.id], new ArticleRecord(response))\r\n\r\n    case LOAD_ARTICLE_COMMENTS + START:\r\n      return state.setIn(\r\n        ['entities', payload.articleId, 'commentsLoading'],\r\n        true\r\n      )\r\n\r\n    case LOAD_ARTICLE_COMMENTS + SUCCESS:\r\n      return state\r\n        .setIn(['entities', payload.articleId, 'commentsLoading'], false)\r\n        .setIn(['entities', payload.articleId, 'commentsLoaded'], true)\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  ADD_COMMENT,\r\n  LOAD_ARTICLE_COMMENTS,\r\n  LOAD_COMMENTS_FOR_PAGE,\r\n  START,\r\n  SUCCESS\r\n} from '../constants'\r\nimport { Record, OrderedMap, Map } from 'immutable'\r\nimport { arrToMap } from './utils'\r\n\r\nconst CommentRecord = Record({\r\n  id: null,\r\n  text: null,\r\n  user: null\r\n})\r\n\r\nconst ReducerRecord = Record({\r\n  entities: new OrderedMap({}),\r\n  pagination: new Map({}),\r\n  total: null\r\n})\r\n\r\nexport default (state = new ReducerRecord(), action) => {\r\n  const { type, payload, randomId, response } = action\r\n\r\n  switch (type) {\r\n    case ADD_COMMENT:\r\n      return state.setIn(\r\n        ['entities', randomId],\r\n        new CommentRecord({\r\n          ...payload.comment,\r\n          id: randomId\r\n        })\r\n      )\r\n\r\n    case LOAD_ARTICLE_COMMENTS + SUCCESS:\r\n      return state.mergeIn(['entities'], arrToMap(response, CommentRecord))\r\n\r\n    case LOAD_COMMENTS_FOR_PAGE + START:\r\n      return state.setIn(['pagination', payload.page, 'loading'], true)\r\n\r\n    case LOAD_COMMENTS_FOR_PAGE + SUCCESS:\r\n      return state\r\n        .set('total', response.total)\r\n        .mergeIn(['entities'], arrToMap(response.records, CommentRecord))\r\n        .setIn(\r\n          ['pagination', payload.page, 'ids'],\r\n          response.records.map((comment) => comment.id)\r\n        )\r\n        .setIn(['pagination', payload.page, 'loading'], false)\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  CHANGE_DATE_RANGE,\r\n  CHANGE_SELECTION,\r\n  DELETE_ARTICLE\r\n} from '../constants'\r\n\r\nconst defaultFilters = {\r\n  selected: [],\r\n  dateRange: {\r\n    from: null,\r\n    to: null\r\n  }\r\n}\r\n\r\nexport default (filters = defaultFilters, action) => {\r\n  const { type, payload } = action\r\n\r\n  switch (type) {\r\n    case CHANGE_DATE_RANGE:\r\n      //            return Object.assign({}, filters, { dateRange: payload.dateRange })\r\n      return { ...filters, dateRange: payload.dateRange }\r\n\r\n    case CHANGE_SELECTION:\r\n      return { ...filters, selected: payload.selected }\r\n\r\n    case DELETE_ARTICLE:\r\n      return {\r\n        ...filters,\r\n        selected: filters.selected.filter(\r\n          (selected) => selected.value !== payload.id\r\n        )\r\n      }\r\n\r\n    default:\r\n      return filters\r\n  }\r\n}\r\n","import createHistory from 'history/createBrowserHistory'\r\n\r\nconst history = createHistory()\r\n\r\n//dev only, remove in PROD!\r\nwindow.routerHistory = history\r\n\r\nexport default history\r\n","import { combineReducers } from 'redux'\r\nimport { connectRouter } from 'connected-react-router'\r\nimport counterReducer from './counter'\r\nimport articles from './articles'\r\nimport comments from './comments'\r\nimport filters from './filters'\r\nimport history from '../history'\r\n\r\nexport default combineReducers({\r\n  counter: counterReducer,\r\n  articles,\r\n  comments,\r\n  filters,\r\n  router: connectRouter(history)\r\n})\r\n","import { INCREMENT } from '../constants'\r\n\r\nexport default (counterState = 10, action) => {\r\n  return action.type === INCREMENT ? counterState + 1 : counterState\r\n}\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { routerMiddleware } from 'connected-react-router'\r\nimport reducer from '../reducer'\r\nimport logger from '../middlewares/logger'\r\nimport randomId from '../middlewares/randomId'\r\nimport api from '../middlewares/api'\r\nimport thunk from 'redux-thunk'\r\nimport history from '../history'\r\n\r\nconst enhancer = applyMiddleware(\r\n  thunk,\r\n  routerMiddleware(history),\r\n  randomId,\r\n  api,\r\n  logger\r\n)\r\n\r\nconst store = createStore(reducer, enhancer)\r\n\r\n//dev only, no need in prod!\r\nwindow.store = store\r\n\r\nexport default store\r\n","export default (store) => (next) => (action) => {\r\n  if (!action.generateId) return next(action)\r\n  next({\r\n    ...action,\r\n    randomId: (Date.now() + Math.random()).toString()\r\n  })\r\n}\r\n","import { START, SUCCESS, FAIL } from '../constants'\r\n\r\nexport default (store) => (next) => (action) => {\r\n  const { callAPI, type, ...rest } = action\r\n  if (!callAPI) return next(action)\r\n\r\n  next({ ...rest, type: type + START })\r\n\r\n  fetch(callAPI)\r\n    .then((res) => res.json())\r\n    .then((response) => next({ ...rest, type: type + SUCCESS, response }))\r\n    .catch((error) => next({ ...rest, type: type + FAIL, error }))\r\n}\r\n","export default (store) => (next) => (action) => {\r\n  console.log('---', 'before: ', store.getState())\r\n  console.log('---', 'dispatching: ', action)\r\n  next(action)\r\n  console.log('---', 'after: ', store.getState())\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport App from './components/app'\r\nimport store from './store'\r\nimport history from './history'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <App />\r\n    </ConnectedRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}